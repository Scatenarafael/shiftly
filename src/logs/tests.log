
=== Test Run Start (UTC): 2026-02-24T23:26:24.313519+00:00 ===
Command: /home/main-pc/Documentos/code/shiftly_all/shiftly/.venv/bin/python3 -m pytest -vv -ra
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-9.0.2, pluggy-1.6.0 -- /home/main-pc/Documentos/code/shiftly_all/shiftly/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/main-pc/Documentos/code/shiftly_all/shiftly
configfile: pyproject.toml
testpaths: tests
plugins: asyncio-1.3.0, anyio-4.11.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 31 items

tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/auth/me-None] PASSED [  3%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/users-None] PASSED [  6%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/users/00000000-0000-0000-0000-000000000001-None] PASSED [  9%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/companies-None] PASSED [ 12%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[POST-/companies/create-payload4] PASSED [ 16%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/roles-None] PASSED [ 19%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[POST-/roles/create-payload6] PASSED [ 22%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/link/by-company/d0ec2a78-35ac-4863-a3bb-50ba1c47ac86-None] PASSED [ 25%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[GET-/workdays-None] PASSED [ 29%]
tests/api/test_auth_middleware.py::test_protected_routes_require_access_token[POST-/workdays-payload9] PASSED [ 32%]
tests/api/test_healthcheck.py::test_healthcheck PASSED                   [ 35%]
tests/api/test_users.py::test_register_user_success PASSED               [ 38%]
tests/api/test_users.py::test_register_user_conflict PASSED              [ 41%]
tests/api/test_users.py::test_register_user_validation_error PASSED      [ 45%]
tests/api/test_users.py::test_list_users_requires_auth PASSED            [ 48%]
tests/api/test_users.py::test_list_users_success PASSED                  [ 51%]
tests/api/test_users.py::test_retrieve_user_not_found PASSED             [ 54%]
tests/api/test_users.py::test_update_user_success PASSED                 [ 58%]
tests/api/test_users.py::test_update_user_not_found PASSED               [ 61%]
tests/api/test_users.py::test_delete_user_success PASSED                 [ 64%]
tests/integration/infrastructure/db/test_user_repository.py::test_repository_can_persist_user PASSED [ 67%]
tests/integration/infrastructure/db/test_user_repository.py::test_repository_partial_update_updates_user PASSED [ 70%]
tests/integration/infrastructure/db/test_user_repository.py::test_repository_delete_removes_user PASSED [ 74%]
tests/unit/application/test_create_user_usecase.py::test_create_user_success PASSED [ 77%]
tests/unit/application/test_create_user_usecase.py::test_create_user_conflict PASSED [ 80%]
tests/unit/application/test_users_usecases.py::test_list_users_usecase_returns_public_dtos PASSED [ 83%]
tests/unit/application/test_users_usecases.py::test_retrieve_user_usecase_returns_detail PASSED [ 87%]
tests/unit/application/test_users_usecases.py::test_retrieve_user_usecase_not_found PASSED [ 90%]
tests/unit/application/test_users_usecases.py::test_update_user_usecase_updates_fields PASSED [ 93%]
tests/unit/application/test_users_usecases.py::test_update_user_usecase_not_found PASSED [ 96%]
tests/unit/application/test_users_usecases.py::test_delete_user_usecase_calls_repository_delete PASSED [100%]

=============================== warnings summary ===============================
src/infra/settings/config.py:10
  /home/main-pc/Documentos/code/shiftly_all/shiftly/src/infra/settings/config.py:10: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 31 passed, 1 warning in 2.88s =========================
=== Test Run End (UTC): 2026-02-24T23:26:27.844602+00:00 | Exit code: 0 ===
